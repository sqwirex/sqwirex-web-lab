<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JS Tasks — Тесты (1–7)</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 20px; }
    .ok { color: #16a34a; }
    .fail { color: #dc2626; }
    pre { background: #f8fafc; padding: 10px; border-radius: 8px; overflow: auto; }
    .card { border: 1px solid #e5e7eb; border-radius: 10px; padding: 16px; margin-bottom: 16px; }
  </style>
</head>
<body>
  <h1>Тесты для задач 1–7</h1>
  <div id="out"></div>

  <script src="pow.js"></script>
  <script src="gcd.js"></script>
  <script src="minDigit.js"></script>
  <script src="pluralizeRecords.js"></script>
  <script src="fibb.js"></script>
  <script src="getSortedArray.js"></script>
  <script src="cesar.js"></script>

  <script>
    (function(){
      const out = document.getElementById("out");
      let passed = 0, failed = 0;
      function log(html) {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = html;
        out.appendChild(div);
      }
      function assertEq(actual, expected, title) {
        const ok = (actual === expected);
        if (ok) passed++; else failed++;
        log(`<strong>${title}</strong><br>
             Ожидалось: <code>${String(expected)}</code><br>
             Получено:  <code>${String(actual)}</code><br>
             <div class="${ok ? 'ok' : 'fail'}">${ok ? 'OK' : 'FAIL'}</div>`);
      }

      // 1) pow
      assertEq(pow(2,10), 1024, "pow(2,10) === 1024");
      assertEq(pow(5,1), 5, "pow(5,1) === 5");

      // 2) gcd
      assertEq(gcd(12,18), 6, "gcd(12,18) === 6");
      assertEq(gcd(7,13), 1, "gcd(7,13) === 1");
      assertEq(gcd(0,5), 5, "gcd(0,5) === 5");

      // 3) minDigit
      assertEq(minDigit(987654), 4, "minDigit(987654) === 4");
      assertEq(minDigit(1002), 0, "minDigit(1002) === 0");
      assertEq(minDigit(0), 0, "minDigit(0) === 0");

      // 4) pluralizeRecords
      assertEq(pluralizeRecords(1),  "В результате выполнения запроса была найдена 1 запись.", "pluralizeRecords(1)");
      assertEq(pluralizeRecords(2),  "В результате выполнения запроса было найдено 2 записи.", "pluralizeRecords(2)");
      assertEq(pluralizeRecords(5),  "В результате выполнения запроса было найдено 5 записей.", "pluralizeRecords(5)");
      assertEq(pluralizeRecords(21), "В результате выполнения запроса была найдена 21 запись.", "pluralizeRecords(21)");
      assertEq(pluralizeRecords(22), "В результате выполнения запроса было найдено 22 записи.", "pluralizeRecords(22)");
      assertEq(pluralizeRecords(11), "В результате выполнения запроса было найдено 11 записей.", "pluralizeRecords(11)");

      // 5) fibb
      assertEq(fibb(0), "0", "fibb(0) === '0'");
      assertEq(fibb(1), "1", "fibb(1) === '1'");
      assertEq(fibb(10), "55", "fibb(10) === '55'");
      assertEq(fibb(50), "12586269025", "fibb(50) === '12586269025'");

      // 6) getSortedArray
      const people1 = [
        { name: "Ольга", age: 31 },
        { name: "Антон", age: 25 },
        { name: "Борис", age: 29 }
      ];
      const byName = JSON.stringify(getSortedArray(people1.slice(), "name").map(p => p.name));
      assertEq(byName, JSON.stringify(["Антон","Борис","Ольга"]), "sort by name");
      const byAge = JSON.stringify(getSortedArray(people1.slice(), "age").map(p => p.age));
      assertEq(byAge, JSON.stringify([25,29,31]), "sort by age");

      // 7) cesar
      assertEq(cesar("абв", 1, "encode"), "бвг", "cesar encode shift1 'абв'");
      assertEq(cesar("бвг", 1, "decode"), "абв", "cesar decode shift1");
      assertEq(cesar("эзтыхз фзъзъз", 8, "decode"), "хакуна матата", "decode secret");

      // Итог
      log(`<strong>ИТОГО:</strong> <span class="ok">пройдено: ${passed}</span>, <span class="fail">провалено: ${failed}</span>`);
    })();
  </script>
</body>
</html>
